{"mappings":"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","sources":["src/modules/firebaseFunctions.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-5d67886d3a7baaea.js","src/main.js","node_modules/@parcel/runtime-js/lib/runtime-6ec296e73b33b52b.js","node_modules/@parcel/runtime-js/lib/runtime-40eab7f924cdb154.js","node_modules/@parcel/runtime-js/lib/runtime-4d785465118f1a2f.js"],"sourcesContent":["export {getFirebase, putToFirebase, deleteScoresFirebase}\r\n\r\n//GET\r\nasync function getFirebase(){\r\n    const url = 'https://rockpaperscissor-5995a-default-rtdb.europe-west1.firebasedatabase.app/scores.json'\r\n\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n    return data;\r\n}\r\n\r\n//PUT\r\nasync function putToFirebase(message){\r\n    const url = 'https://rockpaperscissor-5995a-default-rtdb.europe-west1.firebasedatabase.app/.json';\r\n\r\n    const options = {\r\n        method: 'PUT',\r\n        body: JSON.stringify({\r\n            scores: message,\r\n        }),\r\n        headers: {\r\n            \"Content-type\": \"application/json; charset=UTF-8\"\r\n        }\r\n    }\r\n\r\n    const response = await fetch(url, options);\r\n    const data = await response.json(); \r\n}\r\n","\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"b9Fgu\\\":\\\"index.26060af2.js\\\",\\\"iGfQ6\\\":\\\"rock_39413.00fad89e.png\\\",\\\"1K2pY\\\":\\\"paper_38485.89dc66cc.png\\\",\\\"7i0md\\\":\\\"scissors_39412.220c100f.png\\\"}\"));","import {getFirebase, putToFirebase} from \"./modules/firebaseFunctions.js\";\r\n\r\nlet userName = \"\";\r\nlet playerPoints = 0;\r\nconst choiceArr = [\"rock\", \"paper\", \"scissor\"];\r\nlet dataHighScore;\r\n\r\ndocument.querySelector('button').addEventListener(\"click\", event => {\r\n    event.preventDefault();\r\n    userName = document.querySelector('input').value;\r\n    document.querySelector('form').remove();\r\n    getFirebase().then(data => addHighScores(data)).then(startGame)\r\n})\r\n\r\nfunction addHighScores(highscores){\r\n    dataHighScore = highscores;\r\n    dataHighScore.sort((a, b) => b.score - a.score);\r\n    document.getElementById(\"highscoreTitle\").innerText = \"Highscores\"\r\n    document.getElementById('highscoreList').innerHTML = \"\";\r\n    dataHighScore.forEach(element => {\r\n        document.getElementById('highscoreList').innerHTML += `<li>${element.name}: ${element.score}</li>`\r\n    });\r\n    \r\n\r\n}\r\nfunction startGame(){\r\n    \r\n    document.getElementById(\"subHeader\").innerText = \"How many victories can you get in a row?\";\r\n    document.getElementById(\"names\").innerText = `${userName}`;\r\n    document.getElementById(\"points\").innerText = `${playerPoints}`;\r\n    for (const choice of choiceArr) {\r\n        let btn = document.createElement(\"button\");\r\n        btn.setAttribute(\"id\", choice)\r\n        btn.innerText = choice.toUpperCase();\r\n        document.getElementById(\"buttonContainer\").appendChild(btn);\r\n    }\r\n    document.getElementById(\"buttonContainer\").addEventListener(\"click\", evalChoice)\r\n}\r\n\r\nfunction evalChoice(event){\r\n    let computerChoice = Math.floor(Math.random() * 3);\r\n    let imgUrlComputer;\r\n    switch(computerChoice){\r\n        case 0:\r\n            imgUrlComputer = new URL('./img/rock_39413.png', import.meta.url);\r\n            break;\r\n        case 1:\r\n            imgUrlComputer = new URL('./img/paper_38485.png', import.meta.url);\r\n            break;\r\n        case 2:\r\n            imgUrlComputer = new URL('./img/scissors_39412.png', import.meta.url);\r\n            break;\r\n    }\r\n    document.getElementById(\"computerImg\").src = imgUrlComputer.href;\r\n    if(event.target.id === choiceArr[computerChoice]){\r\n        document.getElementById(\"playerImg\").src = imgUrlComputer.href;\r\n        tiedGame();\r\n    }else if(event.target.id === \"rock\"){\r\n        const imgUrl = new URL('./img/rock_39413.png', import.meta.url);\r\n        document.getElementById(\"playerImg\").src = imgUrl.href;\r\n        if(computerChoice === 2) wonGame();\r\n        if(computerChoice === 1) lostGame();\r\n    }else if(event.target.id === \"paper\"){\r\n        const imgUrl = new URL('./img/paper_38485.png', import.meta.url);\r\n        document.getElementById(\"playerImg\").src = imgUrl.href;\r\n        if(computerChoice === 0) wonGame();\r\n        if(computerChoice === 2) lostGame();\r\n    }else if(event.target.id === \"scissor\"){\r\n        const imgUrl = new URL('./img/scissors_39412.png', import.meta.url);\r\n        document.getElementById(\"playerImg\").src = imgUrl.href;\r\n        if(computerChoice === 1) wonGame();\r\n        if(computerChoice === 0) lostGame();\r\n    }\r\n}\r\n\r\nfunction tiedGame(){\r\n    document.getElementById(\"playerImg\").style.backgroundColor = \"rgba(0,0,0,0)\";\r\n    document.getElementById(\"computerImg\").style.backgroundColor = \"rgba(0,0,0,0)\";\r\n}\r\n\r\nfunction wonGame(){\r\n    playerPoints++;\r\n    document.getElementById(\"points\").innerText = `${playerPoints}`;\r\n    document.getElementById(\"playerImg\").style.backgroundColor = \"#5cff95\";\r\n    document.getElementById(\"computerImg\").style.backgroundColor = \"#ff5c5c\";\r\n}\r\n\r\nfunction lostGame(){\r\n    document.getElementById(\"points\").innerText = `${playerPoints}`;\r\n    document.getElementById(\"computerImg\").style.backgroundColor = \"#5cff95\";\r\n    document.getElementById(\"playerImg\").style.backgroundColor = \"#ff5c5c\";\r\n    gameDone();\r\n}\r\n\r\nfunction gameDone(){\r\n    document.getElementById(\"gameDone\").innerText = `You got ${playerPoints} points`;\r\n    checkIfHighscore();\r\n\r\n}\r\n\r\nfunction checkIfHighscore(){\r\n    if(playerPoints>dataHighScore[4].score){\r\n        dataHighScore[4].name = userName;\r\n        dataHighScore[4].score = playerPoints;\r\n        playerPoints = 0;\r\n        document.getElementById(\"points\").innerText = `${playerPoints}`;\r\n        putToFirebase(dataHighScore);\r\n        addHighScores(dataHighScore);\r\n    }\r\n    \r\n}","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"iGfQ6\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1K2pY\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7i0md\")).toString();"],"names":["async","$349135884b512dae$export$7a667d08ed65fa47","response","fetch","json","$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$2b6e161c9edcf319$var$userName","$2b6e161c9edcf319$var$playerPoints","$2b6e161c9edcf319$var$choiceArr","$2b6e161c9edcf319$var$dataHighScore","$2b6e161c9edcf319$var$addHighScores","highscores","sort","a","b","score","document","getElementById","innerText","innerHTML","forEach","element","name","$2b6e161c9edcf319$var$startGame","choice","btn","createElement","setAttribute","toUpperCase","appendChild","addEventListener","$2b6e161c9edcf319$var$evalChoice","querySelector","event","preventDefault","value","remove","then","data","$42148313f4f9209d$exports","URL","resolve","url","toString","$138c4545b83e4ba7$exports","imgUrlComputer","computerChoice","Math","floor","random","$6095d49cca4ac9f0$exports","src","href","target","style","backgroundColor","imgUrl","$2b6e161c9edcf319$var$wonGame","$2b6e161c9edcf319$var$lostGame","message","options","method","body","stringify","scores","headers"],"version":3,"file":"index.26060af2.js.map"}